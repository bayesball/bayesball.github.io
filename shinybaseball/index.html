<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-0.9.309">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Shiny Baseball</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>

<script src="shinybaseball_files/libs/clipboard/clipboard.min.js"></script>
<script src="shinybaseball_files/libs/quarto-html/quarto.js"></script>
<script src="shinybaseball_files/libs/quarto-html/popper.min.js"></script>
<script src="shinybaseball_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="shinybaseball_files/libs/quarto-html/anchor.min.js"></script>
<link href="shinybaseball_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link id="quarto-text-highlighting-styles" href="shinybaseball_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet">
<script src="shinybaseball_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="shinybaseball_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="shinybaseball_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet">


<link rel="stylesheet" href="styles.css">
</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#berksonba" id="toc-berksonba" class="nav-link active" data-scroll-target="#berksonba">BerksonBA</a>
  <ul class="collapse">
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#using-the-berksonba-app" id="toc-using-the-berksonba-app" class="nav-link" data-scroll-target="#using-the-berksonba-app">Using the BerksonBA App</a></li>
  <li><a href="#things-to-try" id="toc-things-to-try" class="nav-link" data-scroll-target="#things-to-try">Things to Try</a></li>
  <li><a href="#blog-post" id="toc-blog-post" class="nav-link" data-scroll-target="#blog-post">Blog Post</a></li>
  </ul></li>
  <li><a href="#br_batting_history" id="toc-br_batting_history" class="nav-link" data-scroll-target="#br_batting_history">BR_Batting_History</a>
  <ul class="collapse">
  <li><a href="#introduction-1" id="toc-introduction-1" class="nav-link" data-scroll-target="#introduction-1">Introduction</a></li>
  <li><a href="#using-the-br_batting_history-app" id="toc-using-the-br_batting_history-app" class="nav-link" data-scroll-target="#using-the-br_batting_history-app">Using the BR_Batting_History App</a></li>
  <li><a href="#similar-apps" id="toc-similar-apps" class="nav-link" data-scroll-target="#similar-apps">Similar Apps</a></li>
  </ul></li>
  <li><a href="#brushingbattinglocations" id="toc-brushingbattinglocations" class="nav-link" data-scroll-target="#brushingbattinglocations">BrushingBattingLocations</a>
  <ul class="collapse">
  <li><a href="#introduction-2" id="toc-introduction-2" class="nav-link" data-scroll-target="#introduction-2">Introduction</a></li>
  <li><a href="#using-the-brushingbattinglocations-app" id="toc-using-the-brushingbattinglocations-app" class="nav-link" data-scroll-target="#using-the-brushingbattinglocations-app">Using the BrushingBattingLocations App</a></li>
  </ul></li>
  <li><a href="#brushinginplay3" id="toc-brushinginplay3" class="nav-link" data-scroll-target="#brushinginplay3">BrushingInPlay3</a>
  <ul class="collapse">
  <li><a href="#introduction-3" id="toc-introduction-3" class="nav-link" data-scroll-target="#introduction-3">Introduction</a></li>
  <li><a href="#using-the-brushinginplay3-app" id="toc-using-the-brushinginplay3-app" class="nav-link" data-scroll-target="#using-the-brushinginplay3-app">Using the BrushingInPlay3 App</a></li>
  <li><a href="#blog-post-1" id="toc-blog-post-1" class="nav-link" data-scroll-target="#blog-post-1">Blog Post</a></li>
  </ul></li>
  <li><a href="#brushinginplay3a" id="toc-brushinginplay3a" class="nav-link" data-scroll-target="#brushinginplay3a">BrushingInPlay3a</a>
  <ul class="collapse">
  <li><a href="#introduction-4" id="toc-introduction-4" class="nav-link" data-scroll-target="#introduction-4">Introduction</a></li>
  <li><a href="#using-the-brushinginplay3a-app" id="toc-using-the-brushinginplay3a-app" class="nav-link" data-scroll-target="#using-the-brushinginplay3a-app">Using the BrushingInPlay3a App</a></li>
  </ul></li>
  <li><a href="#brushingzone" id="toc-brushingzone" class="nav-link" data-scroll-target="#brushingzone">BrushingZone</a>
  <ul class="collapse">
  <li><a href="#introduction-5" id="toc-introduction-5" class="nav-link" data-scroll-target="#introduction-5">Introduction</a></li>
  <li><a href="#using-the-brushingzone-app" id="toc-using-the-brushingzone-app" class="nav-link" data-scroll-target="#using-the-brushingzone-app">Using the BrushingZone App</a></li>
  <li><a href="#things-to-try-1" id="toc-things-to-try-1" class="nav-link" data-scroll-target="#things-to-try-1">Things to Try</a></li>
  <li><a href="#blog-post-2" id="toc-blog-post-2" class="nav-link" data-scroll-target="#blog-post-2">Blog Post</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Shiny Baseball</h1>
</div>





<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<section id="berksonba" class="level1">
<h1>BerksonBA</h1>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>This app illustrates Berkson’s Paradox which might be better called the Selection-Distortion Effect. Two variables may appear to have some type of association. But when we select a portion of the data, the selected data may have a different association pattern. In other words, the pattern of association is distorted by the selection mechanism.</p>
</section>
<section id="using-the-berksonba-app" class="level2">
<h2 class="anchored" data-anchor-id="using-the-berksonba-app">Using the BerksonBA App</h2>
<p>In this app, we focus on data from the 2019 season, consider all hitters with at least 100 at-bats, and select hitters with at least a 0.200 batting average. We see a scatterplot of the in-play rate (1 - SO / AB) and the batting average on balls on contact (BACON) (H / (AB - SO)). We see a slight negative correlation of -0.37.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="figures/BerksonBA1.png" class="img-fluid" width="878"></p>
</div>
</div>
<p>Now change the minimum batting average to 0.270. The app shows the selected points – there is a stronger association pattern and the correlation value is now -0.76. So we have changed the association pattern by selecting the better hitters.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="figures/BerksonBA2.png" class="img-fluid" width="876"></p>
</div>
</div>
</section>
<section id="things-to-try" class="level2">
<h2 class="anchored" data-anchor-id="things-to-try">Things to Try</h2>
<ol type="1">
<li><p>Try to show this paradox by selecting data from a different season. Do you see a similar phenomena when you select players with at least a minimum BA?</p></li>
<li><p>One can observe a similar paradox by selecting players on the basis of the number of at-bats (AB). For a specific season, look at all hitters with say at least 50 at-bats. Does the association pattern between In-Play Rate and BACON change when you select players with at least 400 at-bats? Can you explain why the association pattern has or has not changed?</p></li>
</ol>
</section>
<section id="blog-post" class="level2">
<h2 class="anchored" data-anchor-id="blog-post">Blog Post</h2>
<p>I describe this phenomenon in the following post:</p>
<p>https://baseballwithr.wordpress.com/2021/09/20/selection-distortion-effect-in-baseball/</p>
</section>
</section>
<section id="br_batting_history" class="level1">
<h1>BR_Batting_History</h1>
<section id="introduction-1" class="level2">
<h2 class="anchored" data-anchor-id="introduction-1">Introduction</h2>
<p>This app displays a measure of batting performance over seasons. The data are season averages as reported on the Baseball-Reference website.</p>
</section>
<section id="using-the-br_batting_history-app" class="level2">
<h2 class="anchored" data-anchor-id="using-the-br_batting_history-app">Using the BR_Batting_History App</h2>
<div class="cell">
<div class="cell-output-display">
<p><img src="figures/BR_Batting_History.png" class="img-fluid" width="880"></p>
</div>
</div>
<p>One selects a range of seasons of interest and selects a batting measure from the measures used on the Baseball-Reference site. In this example, I select the period from 1961 through 2021 and runs per game per team as the measure. The app displays a scatterplot of the measure against season where a loess smoothing curve is used to show the basic pattern. One can change the smoother span on the slider to match up with the observed data.</p>
</section>
<section id="similar-apps" class="level2">
<h2 class="anchored" data-anchor-id="similar-apps">Similar Apps</h2>
<p>BR_Pitching_History is a similar Shiny app to display a specific pitching average over seasons using Baseball Reference data.</p>
</section>
</section>
<section id="brushingbattinglocations" class="level1">
<h1>BrushingBattingLocations</h1>
<section id="introduction-2" class="level2">
<h2 class="anchored" data-anchor-id="introduction-2">Introduction</h2>
<p>This app illustrates displaying batted ball locations for a hitter when one can filter by launch angle and exit velocity.</p>
</section>
<section id="using-the-brushingbattinglocations-app" class="level2">
<h2 class="anchored" data-anchor-id="using-the-brushingbattinglocations-app">Using the BrushingBattingLocations App</h2>
<div class="cell">
<div class="cell-output-display">
<p><img src="figures/BrushingBattingLocations.png" class="img-fluid" width="873"></p>
</div>
</div>
<p>In this app, one selects a 2021 hitter of interest and ranges of values of launch angle and exit velocity. In addition, one choose a measure – the color of the plotted point will correspond to this measure. In this example, I select Bryce Harper, consider hard-hit ground balls where the launch angle is between -20 and 10 degrees and the exit velocity is between 90 and 110 mph, and choose Hit to be the measure. One sees a graph of the field locations of these batted balls where the color indicates a Hit or Out.</p>
<p>By brushing over the batted ball graph, one gets additional measures. In the example below, I select all of the hard-hit ground balls where the ball is hit to the pull side. The table at the bottom shows that Harper is 15 / 46 = 0.326 on these particular batted balls.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="figures/BrushingBattingLocations_2.png" class="img-fluid" width="883"></p>
</div>
</div>
</section>
</section>
<section id="brushinginplay3" class="level1">
<h1>BrushingInPlay3</h1>
<section id="introduction-3" class="level2">
<h2 class="anchored" data-anchor-id="introduction-3">Introduction</h2>
<p>This app displays linked scatter plots of launch variables, zone locations, and batted-ball locations for balls put into play for a specific 2021 hitter.</p>
</section>
<section id="using-the-brushinginplay3-app" class="level2">
<h2 class="anchored" data-anchor-id="using-the-brushinginplay3-app">Using the BrushingInPlay3 App</h2>
<div class="cell">
<div class="cell-output-display">
<p><img src="figures/BrushingInPlay3_1.png" class="img-fluid" width="904"></p>
</div>
</div>
<p>One selects a 2021 hitter of interest. Three plots are displayed.</p>
<ol type="1">
<li><p>A scatterplot of the launch angle and exit velocity for all balls put into play.</p></li>
<li><p>A scatterplot of the zone locations of the corresponding pitches of these batted balls.</p></li>
<li><p>The batted ball locations of these batted balls.</p></li>
</ol>
<p>By brushing any of these plots, one can see the relationship between these sets of variables. For example, from the launch variable plot, I brush below a rectangle of the pop-ups where the launch angle exceeds 50 degrees. From looking at the zone location plot, we see that these pop-ups come from pitches located at different parts about the zone. Looking at the batted ball location graph and knowing that Harper is a left-handed hitter, we see that these pop-ups tend to be hit in the opposite (left) size of the field.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="figures/BrushingInPlay3_2.png" class="img-fluid" width="898"></p>
</div>
</div>
</section>
<section id="blog-post-1" class="level2">
<h2 class="anchored" data-anchor-id="blog-post-1">Blog Post</h2>
<p>In this post, I describe the use of the BrushingInPlay3 app:</p>
<p>https://baseballwithr.wordpress.com/2021/12/13/linking-pitch-location-spray-chart-and-launch-variables/</p>
</section>
</section>
<section id="brushinginplay3a" class="level1">
<h1>BrushingInPlay3a</h1>
<section id="introduction-4" class="level2">
<h2 class="anchored" data-anchor-id="introduction-4">Introduction</h2>
<p>This app displays linked scatter plots of launch variables, zone locations, and batted-ball locations for balls put into play for a specific 2021 hitter.</p>
</section>
<section id="using-the-brushinginplay3a-app" class="level2">
<h2 class="anchored" data-anchor-id="using-the-brushinginplay3a-app">Using the BrushingInPlay3a App</h2>
<div class="cell">
<div class="cell-output-display">
<p><img src="figures/BrushingInPlay3a_1.png" class="img-fluid" width="884"></p>
</div>
</div>
<p>One selects a 2021 hitter of interest. Also one can choose a pitch type (either All, Fastball or Off-Speed) and count type (either All, Ahead, Neutral or Behind). Three plots are displayed.</p>
<ol type="1">
<li><p>A scatterplot of the launch angle and exit velocity for all balls put into play.</p></li>
<li><p>A scatterplot of the zone locations of the corresponding pitches of these batted balls.</p></li>
<li><p>The batted ball locations of these batted balls.</p></li>
</ol>
<p>By brushing any of these plots, one can see the relationship between these sets of variables. In this example I am considering all batted balls (all pitch types and all counts). From the zone location plot, I brush below a rectangle in the lower portion of the zone. Looking at the launch variable plot, we see that many of these low pitches are hit with exit velocities exceeding 100 mph. Looking at the batted ball location graph, we see that the infield hit balls are hit to the pull side, and outfield hit balls are hit to all fields.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="figures/BrushingInPlay3a_2.png" class="img-fluid" width="889"></p>
</div>
</div>
</section>
</section>
<section id="brushingzone" class="level1">
<h1>BrushingZone</h1>
<section id="introduction-5" class="level2">
<h2 class="anchored" data-anchor-id="introduction-5">Introduction</h2>
<p>This app illustrates the use of brushing to display hitting measures for a specific 2019 batter over selected regions of the zone.</p>
</section>
<section id="using-the-brushingzone-app" class="level2">
<h2 class="anchored" data-anchor-id="using-the-brushingzone-app">Using the BrushingZone App</h2>
<div class="cell">
<div class="cell-output-display">
<p><img src="figures/BrushingZone.png" class="img-fluid" width="769"></p>
</div>
</div>
<p>To use this app, one enters in the full name of a 2019 hitter of interest – in this example, I am entering in Mike Trout. Then you indicate what measure to focus on.</p>
<p>If you select Hit or Home Run, you will see a scatterplot of all balls put in play where the color of the point indicates success or failure. If you choose a continuous measure such as Launch Speed or Expected BA, you will see colored points where higher values are red and lower values are blue.</p>
<p>One brushes over the scatterplot by using the mouse to select a region over the zone. For example, if the measure is Launch Speed and I select the lower-right section inside the zone, I see that in this region …</p>
<ul>
<li><p>He has 40 hits out of 89 balls in play (BIP) for a batting average of 40/89 = 0.449.</p></li>
<li><p>He has 15 home runs out of 819 BIP for a HR rate of 0.169.</p></li>
<li><p>The mean launch speed over this region is 96.904 mph.</p></li>
</ul>
<p>If you click on an individual point, you will see the launch speed, launch angle and expected batting average for that particular BIP.</p>
</section>
<section id="things-to-try-1" class="level2">
<h2 class="anchored" data-anchor-id="things-to-try-1">Things to Try</h2>
<ul>
<li><p>Think of another hitter of interest who played during the 2019 season. By choosing different measures and brushing over different areas about the zone, discover the areas about the zone where the hitter was successful and the areas about the zone where the hit struggled.</p></li>
<li><p>For this same hitter, by clicking on particular points, find several locations about the zone where the hitter hit the ball relatively hard.</p></li>
</ul>
</section>
<section id="blog-post-2" class="level2">
<h2 class="anchored" data-anchor-id="blog-post-2">Blog Post</h2>
<p>This blog post describes the use of the BrushingZone app:</p>
<p>https://baseballwithr.wordpress.com/2021/02/15/two-shiny-brushing-apps/</p>
</section>
</section>

</main>
<!-- /main column -->
<script type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>